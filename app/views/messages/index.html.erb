<h1>Messages</h1>

<turbo-frame id="messages" data-turbo-action="advance" data-controller="autoclick">
  <% if @page.prev %>
    <%= link_to pagy_url_for(@page, @page.prev), rel: "prev", class: "hidden first-child:block",
          data: { turbo_rendering: "prepend" } do %>
      Previous page
    <% end %>
  <% end %>

  <% @messages.each do |message| %>
    <article class="h-48">
      <%= message.content %>
    </article>
  <% end %>

  <% if @page.next %>
    <%= link_to pagy_url_for(@page, @page.next), rel: "next", class: "hidden last-child:block",
          data: { turbo_rendering: "append", autoclick_target: "appearance" } do %>
      Next page
    <% end %>
  <% end %>
</turbo-frame>
